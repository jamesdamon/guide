

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Creation of Collections &mdash; tind-doc 1.0.0 documentation</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  
    <link rel="top" title="tind-doc 1.0.0 documentation" href="../index.html"/>
        <link rel="up" title="Guide for Librarians" href="index.html"/>
        <link rel="next" title="Export data" href="export-xml.html"/>
        <link rel="prev" title="Guide for Librarians" href="index.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        <a href="../index.html" class="fa fa-home"> tind-doc</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
        
            <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Guide for Librarians</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="">Creation of Collections</a></li>
<li class="toctree-l2"><a class="reference internal" href="export-xml.html">Export data</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../admin/index.html">Guide for System Administrators</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../admin/websubmit-admin-guide.html">WebSubmit Admin Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../admin/bibexport-admin-guide.html">BibExport Admin Guide</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tools/index.html">Guide for tools.tind.io</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../tools/index.html#overview">1. Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tools/index.html#make-documents-restricted">2. Make documents restricted</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tools/index.html#link-records">3. Link records</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../doc/index.html">Documentation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../doc/intro.html">MARC intro</a></li>
<li class="toctree-l2"><a class="reference internal" href="../doc/docguide.html">Site template</a></li>
<li class="toctree-l2"><a class="reference internal" href="../doc/use-of-marc.html">MARC Fields</a></li>
</ul>
</li>
</ul>

        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">tind-doc</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
          <li><a href="index.html">Guide for Librarians</a> &raquo;</li>
      
    <li>Creation of Collections</li>
      <li class="wy-breadcrumbs-aside">
        
          <a href="../_sources/librarian/create-collection.txt" rel="nofollow"> View page source</a>
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            
  <div class="section" id="creation-of-collections">
<span id="create-collection"></span><h1>Creation of Collections<a class="headerlink" href="#creation-of-collections" title="Permalink to this headline">¶</a></h1>
<div class="section" id="overview">
<h2>1. Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>WebSearch Admin interface will help you to configure the search
collections that the end-users see. The WebSearch Admin functionality
can be basically separated into several parts: (i) how to organize
collections into <a class="reference external" href="#2">collection tree</a>; (ii) how to define and edit
<a class="reference external" href="#3">collection parameters</a>; (iii) how to update collection cache via
the <a class="reference external" href="#4">webcoll daemon</a>; and (iv) how to influence the search engine
behaviour and set various <a class="reference external" href="#5">search engine parameters</a>.</p>
<p>The first two issues will be described in the rest of this guide. See WebSearch Admin Guide for the last two issues.</p>
</div>
<div class="section" id="edit-collection-tree">
<h2>2. Edit Collection Tree<a class="headerlink" href="#edit-collection-tree" title="Permalink to this headline">¶</a></h2>
<p>Metadata corpus in Invenio is organized into collections. The
collections are organized in a tree. The collection tree is what the
end-users see when they start to navigate at <a class="reference external" href="http://localhost:4000">Atlantis Institute of
Fictive Science</a>. The collection tree is
similar to what other sites call Web Directories that organize Web into
topical categories, such as <a class="reference external" href="http://www.google.com/dirhp">Google
Directory</a>.</p>
<p>Note that Invenio permits every collection in the tree to have either
&#8220;regular&#8221; or &#8220;virtual&#8221; sons. In other words, every node in the
collection tree may see either regular or virtual branches growing out
of it. This permits to create a tree with very complex, multi-level,
nested structures of regular and virtual branches, if needed, with the
aim to ease navigation to end-users from one branch to another. The
difference between a regular and a virtual branch will be explained in
detail further below in the <a class="reference external" href="#2.2">section 2.2</a>.</p>
<div class="section" id="add-new-collection">
<h3>2.1 Add new collection<a class="headerlink" href="#add-new-collection" title="Permalink to this headline">¶</a></h3>
<p>To add a new collection, enter its default name in the default language
of the installation and click on the ADD button to add it. There are two
important actions that you have to perform after adding a collection:</p>
<ul class="simple">
<li>You have to define the set of records that belong to this collection.
This is done by defining a search engine query that would return all
records belonging to this collection. See hints on <a class="reference external" href="#3.1">modify collection
query</a> below.</li>
<li>In order for the collection to appear in the collection navigation
tree, you will have to attach it to some existing collection in the
tree. See hints on <a class="reference external" href="#2.2">add collection to tree</a> below.</li>
</ul>
<p>After you edit these two things, the collection is fully usable for the
search interface. It will appear in the search interface after the next
run of the <a class="reference external" href="#4">WebColl Daemon</a>.</p>
<p>However, you will probably want to customize further things, like define
collection name translation in various languages, define collection web
page portalboxes, define search options, etc, as explained in this guide
under the section <a class="reference external" href="#3">Edit Collection Parameters</a>.</p>
</div>
<div class="section" id="add-collection-to-tree">
<h3>2.2 Add collection to tree<a class="headerlink" href="#add-collection-to-tree" title="Permalink to this headline">¶</a></h3>
<p>To attach a collection to the tree, choose first which collection do you
want to attach, then choose the father collection to attach to, and then
choose the fathership relation type between them (regular, virtual).</p>
<p>The difference between the regular and the virtual relationship goes as
follows:</p>
<ul class="simple">
<li><strong>regular relationship</strong>: If collection A is composed of B and C, in
a way that every document belonging to A is either B or C, then this
schema corresponds to the regular type of relationship. For example,
let A equals to &#8220;Multimedia&#8221; and B and C to &#8220;Photos&#8221; and &#8220;Videos&#8221;,
respectively. The latter collections would then be declared as
regular sons of &#8220;Multimedia&#8221; and they would appear in the
left-hand-side regular navigation tree entitled &#8220;Narrow by
Collection&#8221; in the collection tree.</li>
<li><strong>virtual relationship</strong>: In addition to the regular decomposition of
&#8220;Multimedia&#8221; into &#8220;Photos&#8221; and &#8220;Videos&#8221;, it may be advantageous to
present a different, orthogonal point of view on &#8220;Multimedia&#8221;, based
not on the document type as seen above, but rather on the document
creator information. Let us consider that some (large) part of the
multimedia material was created by the &#8220;University Multimedia
Service&#8221; and some (small) part by an external TV company such as BBC.
It may be advantageous to advertize this point of view to the end
users too, so they they would be able to easily navigate down to the
kind of multimedia material they are looking for. We can create two
more collections named &#8220;University Multimedia Service&#8221; and &#8220;BBC
Pictures and Videos&#8221; and declare them as virtual sons of the
&#8220;Multimedia&#8221; collection. These collections would then appear in the
right-hand-side virtual navigation tree entitled &#8220;Focus on&#8221; in the
collection tree.</li>
</ul>
<p>The example presented above would then give us the following picture:</p>
<blockquote>
<div><div class="highlight-python"><div class="highlight"><pre>M u l t i m e d i a

Narrow by Collection:        Focus on:
--------------------         ---------
[ ] Photos                   University Multimedia Service
[ ] Videos                   BBC Pictures and Videos
</pre></div>
</div>
</div></blockquote>
<p>It is important to note that if a collection A is composed of B and C as
its regular sons, and offers X and Y as its virtual sons, then every
document belonging to A must also belong to either B or C. This
requirement does not apply for X and Y, because X and Y offer only a
&#8220;focus-on&#8221; orthogonal view on a (possibly small) part of the document
corpus of A. If end-users search the collection A, then they are
actually searching inside B and C, not X and Y. If they want to search
inside X or Y, they have to click upon X or Y first. One can consider
virtual branches as a sort of non-essential searching aid to the
end-user that is activated only when users are interested in a
particular &#8220;focus-on&#8221; relationship, provided that this &#8220;virtual&#8221; point
of view on A interests her.</p>
</div>
<div class="section" id="modify-existing-tree">
<h3>2.3 Modify existing tree<a class="headerlink" href="#modify-existing-tree" title="Permalink to this headline">¶</a></h3>
<p>To modify existing tree by WebSearch Admin Interface, click on icons
displayed next to collections. The meaning of icons is as follows:</p>
<table border="1" class="docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a href="#id1"><span class="problematic" id="id2">|</span></a>A   |
Remove chosen collection with its
subcollections from the collection
tree, but do not delete the
collection itself. (For full
deletion of a collection, see
<a class="reference external" href="#3.4">section 3.4</a>.)</td>
<td><a href="#id3"><span class="problematic" id="id4">|</span></a>B |            <a href="#id5"><span class="problematic" id="id6">|</span></a>C  |
Move chosen collection up or down
among its brothers and sisters, i.e.
change the order of collections
inside the same level of the tree.</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="edit-collection-parameters">
<h2>3. Edit Collection Parameters<a class="headerlink" href="#edit-collection-parameters" title="Permalink to this headline">¶</a></h2>
<p>To finalize setting up of a collection, you could and should edit many
parameters, such as define list of records belonging to a collection,
define search fields, define search interface page portalboxes, etc. In
this section we will subsequently describe all the various possibilities
as they are presented in the <a class="reference external" href="/admin/websearch/websearchadmin.py/editcollection?colID=1">Edit
Collection</a>
pages of the WebSearch Admin Interface.</p>
<div class="section" id="modify-collection-query">
<h3>3.1 Modify collection query<a class="headerlink" href="#modify-collection-query" title="Permalink to this headline">¶</a></h3>
<p>The <em>collection query</em> defines which documents belong to the given
collection. It is equal to the search term that retrieves all documents
belonging to the given collection, exactly as you would have typed it
into the search interface. For example, to define a collection of all
papers written by Ellis, you could set up your collection query to be
<tt class="docutils literal"><span class="pre">author:Ellis</span></tt>.</p>
<p>Usually, the collection query is chosen on the basis of the collection
identifier that we store in MARC tag 980. This tag is indexed in a
logical field called <tt class="docutils literal"><span class="pre">collection</span></tt> so that a collection of Theses could
be defined via <tt class="docutils literal"><span class="pre">collection:THESIS</span></tt>, supposing that every thesis
metadata record has got the text <tt class="docutils literal"><span class="pre">THESIS</span></tt> in MARC tag 980. (Nitpick:
we use the term `collection&#8217; in two contexts here: once as a collection
of metadata documents, but also and as a logical field name. We should
have probably called the latter <tt class="docutils literal"><span class="pre">collectionidentifier</span></tt> or somesuch
instead, but we hope the difference is clear from... the context.)</p>
<p>If a collection does not have any collection query defined, then its
content is defined by means of the content of its descendants
(subcollections). This is the case for composed collections. For
example, the composed collection <em>Articles &amp; Preprints</em> (no query
defined) will be defined as a father of <em>Articles</em> (query:
<tt class="docutils literal"><span class="pre">collection:ARTICLE</span></tt>) and <em>Preprints</em> (query:
<tt class="docutils literal"><span class="pre">collection:PREPRINT</span></tt>). In this case the collection query for
<em>Articles &amp; Preprints</em> can stay empty.</p>
<p>Note that you should avoid defining non-empty collection query in cases
the collection has descendants, since it will prevail and the
descendants may not be taken into account. In the same way, if a
collection doesn&#8217;t have any query nor any descendants defined, then its
contents will be empty.</p>
<p>To define an external hosted collection set up the query to begin with
<tt class="docutils literal"><span class="pre">hostedcollection:</span></tt> (for more detailed information see <a class="reference external" href="#4">section
4</a>)</p>
<p>To remove the collection query, set the parameter empty.</p>
</div>
<div class="section" id="modify-translations">
<h3>3.2 Modify translations<a class="headerlink" href="#modify-translations" title="Permalink to this headline">¶</a></h3>
<p>You may define translations of collection names into the languages of
your Invenio installation. Moreover, a collection name may be different
in different contexts (e.g. long name, short name, etc), so that prior
to modifying translations you will be asked to select which name type
you want to change.</p>
<p>The translations aren&#8217;t mandatory to define. If a translation does not
exist in a language chosen by the end user, the end user will be shown
the collection name in the default language of this installation.</p>
<p>Note also that the list of available languages depends on the
compile-time configuration (see the general <tt class="docutils literal"><span class="pre">invenio.conf</span></tt> file).</p>
</div>
<div class="section" id="delete-collection">
<h3>3.3 Delete collection<a class="headerlink" href="#delete-collection" title="Permalink to this headline">¶</a></h3>
<p>The collection to be deleted must be first removed from the collection
tree. Any metametadata associated with the collection (such as
association to portalboxes, association to records belonging to this
collection, etc) will be lost, but the metadata itself will be preserved
(such as portalboxes themselves, records themselves, etc). In total,
association to records, output formats, translations, search options,
sort options, search fields, ranking method, and access restriction will
be lost. Use with care!</p>
<p>It may be a good idea only to remove the collection from the end users
interface, but to keep it &#8220;hidden&#8221; in a corner they don&#8217;t see and that
they can&#8217;t search when they search from Home. To achieve this, do not
delete the collection but simply remove it from the collection tree so
that it won&#8217;t be attached to any father collection. In this case the
search interface page for this collection will stay updated, but won&#8217;t
be neither shown in the tree nor searchable from Home page. It will only
be accessible via bookmarked URL, for example.</p>
</div>
<div class="section" id="modify-search-fields">
<h3>3.4 Modify search fields<a class="headerlink" href="#modify-search-fields" title="Permalink to this headline">¶</a></h3>
<p>The <em>search field</em> is a logical field (such as author, title, etc) that
will be proposed to the end users in Simple and Advanced Search
interface pages. If you do not set any search fields for a collection,
then a default list (author, title, year, etc) will be shown.</p>
<p>Note that if you want to add a new logical field or modify existing
physical MARC tags for a logical field, you have to use the <a class="reference external" href="/admin/bibindex/bibindexadmin.py">BibIndex
Admin</a>
interface.</p>
</div>
<div class="section" id="modify-search-options">
<h3>3.5 Modify search options<a class="headerlink" href="#modify-search-options" title="Permalink to this headline">¶</a></h3>
<p>The <em>search option</em> is like <a class="reference external" href="#3.6">search field</a> in a way that it
permits the end user to narrow down his search to some logical field
such as &#8220;subject&#8221;, but unlike with the search field the user is not
required to type his query in a free text form; rather, the search
interface proposes to the end user several interesting predefined values
prepared by the administrators that the end user may choose from. For
example, an &#8220;author search&#8221; concept is a good example of search field
usage, since there is plenty of author names to be matched, so that the
end users would usually type the name they wish to find in free text
form; while a &#8220;subject search&#8221; concept is a good example for search
option usage, since usually there is a limited number of subjects in the
system given by local subject classification scheme, that the end users
do not necessarily know about and that they are free to choose from a
list. As a rule of thumb, the search field concept denotes the case of
unlimited number possibilites of distinct values to be matched in a
given field (e.g. author, title, keyword); while the search option
concept denotes the case of only a handful or so distinct values to be
matched in a given field (e.g. subject, division, year).</p>
<p>Search options are shown in the &#8220;Advanced Search&#8221; interfaces only, while
search fields are shown both in &#8220;Simple Search&#8221; and &#8220;Advanced Search&#8221;
interface. (Although if you want to add a search option to the &#8220;Simple
Search&#8221; interface, you can achieve it by creating appropriate HTML code
in a <a class="reference external" href="#3.5">portalbox</a>.) The search options order, as well as the
order of search option values, may be defined by means of &#8216;move&#8217; arrows
in the WebSearch Admin interface.</p>
<p>To add a new search option, a field name must first be chosen (for
example &#8220;subject&#8221;) and then a list of possible field values must be
entered (for example &#8220;Mathematics&#8221;, &#8220;Physics&#8221;, &#8220;Chemistry&#8221;, &#8220;Biology&#8221;,
etc). Note that if you want to add a new logical field or modify
existing physical MARC tags for a logical field, you have to use the
<a class="reference external" href="/admin/bibindex/bibindexadmin.py">BibIndex
Admin</a>
interface.</p>
</div>
</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="export-xml.html" class="btn btn-neutral float-right" title="Export data"/>Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral" title="Guide for Librarians"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2014, Kenneth Hole.
    </p>
  </div>

  <a href="https://github.com/snide/sphinx_rtd_theme">Sphinx theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'1.0.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>